---
title: Linux之ps命令
categories: 
  - Linux相关
tags:
  - Linux命令
about: 无
date: 2021-02-23 10:41:48
---

# Linux之ps命令

<!--more-->

ps命令为我们提供了一次性的查看进程结果，它所提供的查看结果不是动态连续的；如果想对进程时间监控，应该用top工具

Linux中的ps命令是Process Status的缩写。ps命令用来列出系统中当前运行的那些进程。ps命令列出的是当前那些进程的快照，就是执行ps命令的那个时刻的那些进程，如果想要动态的显示进程信息，就可以使用top命令。要对进程进行监测和控制，首先必须要了解当前进程的情况，也就是需要查看当前进程，而 ps 命令就是最基本同时也是非常强大的进程查看命令。使用该命令可以确定有哪些进程正在运行和运行的状态、进程是否结束、进程有没有僵死、哪些进程占用了过多的资源等等。总之大部分信息都是可以通过执行该命令得到的。

**linux上进程有5种状态:** 

1、运行(正在运行或在运行队列中等待) 

2、中断(休眠中, 受阻, 在等待某个条件的形成或接受到信号) 

3、不可中断(收到信号不唤醒和不可运行, 进程必须等待直到有中断发生) 

4、僵死(进程已终止, 但进程描述符存在, 直到父进程调用wait4()系统调用后释放) 

5、停止(进程收到SIGSTOP, SIGSTP, SIGTIN, SIGTOU信号后停止运行运行) 

**ps工具标识进程的5种状态码:** 

1、D 不可中断 uninterruptible sleep (usually IO) 

2、R 运行 runnable (on run queue) 

3、S 中断 sleeping 

4、T 停止 traced or stopped 

5、Z 僵死 a defunct (”zombie”) process

```shell
# 3．命令参数：
a  显示所有进程
-a 显示同一终端下的所有程序
-A 显示所有进程
c  显示进程的真实名称
-N 反向选择
-e 等于“-A”
e  显示环境变量
f  显示程序间的关系
-H 显示树状结构
r  显示当前终端的进程
T  显示当前终端的所有程序
u  指定用户的所有进程
-au 显示较详细的资讯
-aux 显示所有包含其他使用者的行程 
-C<命令> 列出指定命令的状况
--lines<行数> 每页显示的行数
--width<字符数> 每页显示的字符数
--help 显示帮助信息
--version 显示版本显示
-o 自定义输出字段 我们设定显示字段为 stat（状态）, ppid（进程父id）, pid(进程id)，cmd（命令）这四个参数

# 用例
ps -A    # 显示所有进程信息
ps -u root    # 显示指定用户信息
ps -ef    # 显示所有进程信息
ps -ef | grep ssh    # ps与grep常用组合用法，查找指定进程
ps -l    # 将目前属于您自己这次登入的PID与相关信息列出来
ps -aux    # 列出目前所有正在内存中的程序
ps -axjf    # 列出类似程序树的程序显示
ps -aux |more    # 可以用管道| 和 more连接起来分页查看
ps -aux > ps001.txt    # 将所有进程信息重定向输出到指定文件中
ps -A -o stat,ppid,pid,cmd | grep -e '^[Zz]'   
```
